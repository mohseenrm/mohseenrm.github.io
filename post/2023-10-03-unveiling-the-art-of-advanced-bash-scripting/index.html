<html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=icon href=/images/favicon.svg><link rel=stylesheet href=/scss/global.min.c6e799be450052ebb6c2236c7a484e7dfc60256a0af456219d997f7d12dfe91e.css><link rel=stylesheet href=/css/prism.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css?family=Merriweather&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300;400;500;600;700&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,wght@0,200;0,300;0,400;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,600;1,700;1,800;1,900&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel=stylesheet><link rel=stylesheet href=https://use.typekit.net/yka3uyp.css><title>Unveiling the Art of Advanced Bash Scripting | Mohseen</title><meta name=description content="Bash scripting—an old school yet a powerhouse language, often unnoted in the high-speed coding era—still holds its ground when it comes to automating tasks, manipulating data and system administration. This post is all about leveraging Bash scripting skills from &lsquo;Intermediate&rsquo; to &lsquo;Advanced&rsquo;. We dive into advanced techniques, notable gotchas and pitfalls, and reveal coding examples that will polish your scripting skills.
Let&rsquo;s start with an essential quote by the acclaimed systems architect, Brian Fox, creator of Bash:"><meta property="og:title" content="Unveiling the Art of Advanced Bash Scripting | Mohseen"><meta property="og:site_name" content="Mohseen"><meta property="og:description" content="Bash scripting—an old school yet a powerhouse language, often unnoted in the high-speed coding era—still holds its ground when it comes to automating tasks, manipulating data and system administration. This post is all about leveraging Bash scripting skills from &lsquo;Intermediate&rsquo; to &lsquo;Advanced&rsquo;. We dive into advanced techniques, notable gotchas and pitfalls, and reveal coding examples that will polish your scripting skills.
Let&rsquo;s start with an essential quote by the acclaimed systems architect, Brian Fox, creator of Bash:"><meta property="og:url" content="https://www.mohseen.dev/post/2023-10-03-unveiling-the-art-of-advanced-bash-scripting/"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:image" content><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Unveiling the Art of Advanced Bash Scripting | Mohseen"><link rel=canonical href=https://www.mohseen.dev/post/2023-10-03-unveiling-the-art-of-advanced-bash-scripting/><meta name=twitter:description content="Bash scripting—an old school yet a powerhouse language, often unnoted in the high-speed coding era—still holds its ground when it comes to automating tasks, manipulating data and system administration. This post is all about leveraging Bash scripting skills from &lsquo;Intermediate&rsquo; to &lsquo;Advanced&rsquo;. We dive into advanced techniques, notable gotchas and pitfalls, and reveal coding examples that will polish your scripting skills.
Let&rsquo;s start with an essential quote by the acclaimed systems architect, Brian Fox, creator of Bash:"><meta name=twitter:image content><meta property="article:published_time" content="2023-10-03T00:00:00+00:00"><meta property="article:updated_time" content="2023-10-03T00:00:00+00:00"></head><body class=line-numbers><script src=/js/initColors.js></script><div class=layout-styled><section class=section><div class=nav-container><a class=logo-link href=/><div class=logo><svg viewBox="0 0 767.42 894.15"><path id="first-m" fill="#1ee3cf" d="m301.64 485.72-85.91-166.86v122.29l83.17 167.52c9.36 18.77 36.24 18.64 45.4-.25l9-18.58zm282.07 44.29V798.7a25.27 25.27.0 1050.54.0V425.52zM625.08 9.15a31.28 31.28.0 00-50 8L385.9 393.31l32.2 62.5 155.1-320.6a5.54 5.54.0 0110.53 2.42v128.4l50.54-100.47V31.22a30.86 30.86.0 00-9.19-22.07zM60.33 16.91A31.29 31.29.0 0032.52.0h-1.24A31.26 31.26.0 000 31.22V798.7a25.3 25.3.0 0025.27 25.27h1a25.3 25.3.0 0025.27-25.27V133.97a5.55 5.55.0 0110.53-2.41l40.08 80.77V101.39c0-1 0-2 .06-3z"/><path id="second-m" fill="#d1d3d4" d="M767.42 101.42v767.46a25.27 25.27.0 01-25.27 25.27 25.26 25.26.0 01-25.25-25.27V207.82a5.55 5.55.0 00-10.55-2.41L477.4 678.6c-9.15 18.91-36 19-45.38.23L195.27 201.72a5.55 5.55.0 00-10.52 2.43v664.7a25.27 25.27.0 01-25.27 25.3h-1a25.27 25.27.0 01-25.27-25.27V101.42a31.26 31.26.0 0131.23-31.27h1.24a31.27 31.27.0 0127.8 17l254.77 494.87a6.3 6.3.0 0011.22.0l248.76-494.6a31.26 31.26.0 0127.93-17.27 31.26 31.26.0 0131.26 31.27z"/></svg></div><span class=header-hidden>Navigate back to the homepage</span></a><div class=nav-controls><button id=copyButton class=icon-wrapper>
<svg class="icon-image" width="24" height="20" viewBox="0 0 24 20" fill="none"><path fillRule="evenodd" clipRule="evenodd" d="M2 5C2 3.34328 3.34328 2 5 2h9c1.6567.0 3 1.34328 3 3V9c0 1.6567-1.3433 3-3 3H10C9.44771 12 9 12.4477 9 13S9.44771 14 10 14h4c2.7613.0 5-2.2387 5-5V5c0-2.76128-2.2387-5-5-5H5C2.23872.0.0 2.23872.0 5V9c0 1.4938.656313 2.8361 1.6935 3.7509C2.10768 13.1163 2.73961 13.0767 3.10494 12.6625 3.47028 12.2483 3.43068 11.6164 3.0165 11.2511 2.39169 10.6999 2 9.89621 2 9V5zm5 6c0-1.65672 1.34328-3 3-3h4C14.5523 8 15 7.55228 15 7S14.5523 6 14 6H10C7.23872 6 5 8.23872 5 11v4c0 2.7613 2.23872 5 5 5h9c2.7613.0 5-2.2387 5-5V11C24 9.50621 23.3437 8.16393 22.3065 7.24906 21.8923 6.88372 21.2604 6.92332 20.8951 7.3375 20.5297 7.75168 20.5693 8.38361 20.9835 8.74894 21.6083 9.30007 22 10.1038 22 11v4c0 1.6567-1.3433 3-3 3H10c-1.65672.0-3-1.3433-3-3V11z" fill="#000"/></svg><div id=toolTip class=tool-tip>copied</div><input id=copyText style=opacity:0 type=text class=tool-tip>
</button>
<button id=themeColorButton class=icon-wrapper><div id=sunRays class=sun-rays></div><div id=moonOrSun class=moon-or-sun></div><div id=moonMask class=moon-mask></div></button></div></div></section><script src=/js/toggleLogos.js></script><script src=/js/toggleColors.js></script><script src=/js/copyUrl.js></script><section class="section narrow"><section id=articleHero class="section narrow"><div class=article-hero><header class=article-header><h1 class=article-hero-heading>Unveiling the Art of Advanced Bash Scripting</h1><div class=article-hero-subtitle><div class=article-meta><a href=/authors/mohseen-mukaddam/ class=article-author-link><div class=article-author-avatar><img src=/images/mohseen-mukaddam.jpg></div><strong>Mohseen Mukaddam</strong>
<span class=hide-on-mobile>,&nbsp;</span>
</a><script src=/js/collapseAuthors.js></script>October 3, 2023
• 3 min read</div></div></header><div class=article-hero-image id=ArticleImage__Hero><picture><source srcset=/images/hero/unveiling-the-art-of-advanced-bash-scripting.desktop.jpg media="(min-width: 1280px) and (-webkit-min-device-pixel-ratio: 2), (min-width: 1280px) and (min-resolution: 192dpi)"><source srcset=/images/hero/unveiling-the-art-of-advanced-bash-scripting.desktop.jpg media="(min-width: 1280px)"><source srcset=/images/hero/unveiling-the-art-of-advanced-bash-scripting.tablet.jpg media="(min-width: 735px) and (-webkit-min-device-pixel-ratio: 2), (min-width: 735px) and (min-resolution: 192dpi)"><source srcset=/images/hero/unveiling-the-art-of-advanced-bash-scripting.tablet.jpg media="(min-width: 735px)"><source srcset=818x434.jpg media="(min-width: 540px) and (-webkit-min-device-pixel-ratio: 2), (min-width: 540px) and (min-resolution: 192dpi)"><source srcset=/images/hero/unveiling-the-art-of-advanced-bash-scripting.tablet.jpg media="(min-width: 540px)"><source srcset=/images/hero/unveiling-the-art-of-advanced-bash-scripting.mobile.jpg media="(min-width: 320px) and (-webkit-min-device-pixel-ratio: 2), (min-width: 320px) and (min-resolution: 192dpi)"><source srcset=/images/hero/unveiling-the-art-of-advanced-bash-scripting.mobile.jpg media="(min-width: 320px)"><source srcset=/images/hero/unveiling-the-art-of-advanced-bash-scripting.mobile.jpg media="(min-width: 0px) and (-webkit-min-device-pixel-ratio: 2), (min-width: 0px) and (min-resolution: 192dpi)"><source srcset=/images/hero/unveiling-the-art-of-advanced-bash-scripting.mobile.jpg media="(min-width: 0px)"><img src=/images/hero/unveiling-the-art-of-advanced-bash-scripting.fallback.jpg alt></picture></div></div></section><aside id=progressBar class=aside-container><div class=aside-align><div><div class=overlap-container></div></div></div><div class=progress-container tabindex={-1}><div class=track-line aria-hidden=true><div id=progressIndicator class=progress-line></div></div></div></aside><article id=articleContent class=post-content style=position:relative><p>Bash scripting—an old school yet a powerhouse language, often unnoted in the high-speed coding era—still holds its ground when it comes to automating tasks, manipulating data and system administration. This post is all about leveraging Bash scripting skills from &lsquo;Intermediate&rsquo; to &lsquo;Advanced&rsquo;. We dive into advanced techniques, notable gotchas and pitfalls, and reveal coding examples that will polish your scripting skills.</p><p>Let&rsquo;s start with an essential quote by the acclaimed systems architect, Brian Fox, creator of Bash:</p><blockquote><p>&ldquo;When something goes wrong with Bash, it&rsquo;s often little more than a simple error that takes only moments to correct.&rdquo;</p></blockquote><h2 id=advanced-patterns--text-manipulations>Advanced Patterns & Text Manipulations</h2><p>In veteran hands, Bash can model complex data structures and advanced text manipulations. One way is through the use of positional parameters, like <code>$1</code>, <code>$2</code>, etc.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Code example for positional parameters</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#!/bin/bash</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;Script name: </span>$0<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;First parameter: </span>$1<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;Second parameter: </span>$2<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;All parameters: </span>$@<span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><p>Another fascinating option is the Regular Expression (RegEx) matches from Bash version 3.0 onwards. A use case, for demonstration, is validating usernames.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Code example for username validation</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#!/bin/bash </span>
</span></span><span style=display:flex><span>read -p <span style=color:#e6db74>&#34;Enter username: &#34;</span> username 
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;</span>$username<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span>~ ^<span style=color:#f92672>[</span>a-z_<span style=color:#f92672>][</span>a-z0-9_<span style=color:#f92672>]{</span>2,7<span style=color:#f92672>}</span>$ <span style=color:#f92672>]]</span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>then</span> 
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;Username is valid.&#34;</span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span> 
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;Username is not valid.&#34;</span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span> 
</span></span></code></pre></div><h2 id=trap-statements>Trap Statements</h2><p>Widely used, yet often misunderstood, <code>trap</code> commands define actions to trigger when the script receives specific signals. They help with an elegant exiting mechanism and cleaner script management. The code below enables debugging mode and sets a trap for exit signals.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>set -x
</span></span><span style=display:flex><span>trap <span style=color:#e6db74>&#39;echo &#34;Script is exiting&#34;; exit&#39;</span> SIGINT SIGTERM
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> true; <span style=color:#66d9ef>do</span> : ; <span style=color:#66d9ef>done</span>
</span></span></code></pre></div><h2 id=here-documents>Here Documents</h2><p>Here Documents (<code>&lt;&lt;</code>) and Here Strings (<code>&lt;&lt;&lt;</code>) fall under the redirection capabilities of Bash. They offer a convenient way to direct input from a data block. The following example demonstrates how to pass a SQL query from a Bash script to mysql client:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>DATABASE<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;SampleDB&#34;</span>
</span></span><span style=display:flex><span>USERNAME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;sampleUser&#34;</span>
</span></span><span style=display:flex><span>PASSWORD<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;samplePass&#34;</span>
</span></span><span style=display:flex><span>mysql -u $USERNAME -p $PASSWORD $DATABASE <span style=color:#e6db74>&lt;&lt; EOF 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>SELECT * 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>FROM Employee 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>WHERE Salary &gt; 50000;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div><p>Trapped in a long line of command parameters? Make use of Here Strings for a cleaner and readable approach. An example from <a href=https://github.com/xDarkicex/bash_radio>this Github repo</a> demonstrates this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>while</span> IFS<span style=color:#f92672>=</span> read -r url
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>  /usr/bin/mpv --no-video <span style=color:#e6db74>&#34;</span>$url<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span> <span style=color:#f92672>&lt;&lt;&lt;</span> <span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>/usr/bin/curl -s --unix-socket ~/.config/Qbit_manage/Sockets/Qbit.sock http://localhost/api/v2/torrents/info?hashes<span style=color:#f92672>=</span>$1 | <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  /usr/bin/jq -r <span style=color:#e6db74>&#39;.[].content_path&#39;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><h2 id=error-handling>Error Handling</h2><p>Unlike other higher-level languages, Bash has a different approach to error handling. It doesn&rsquo;t have an exception handling framework, but instead, uses exit statuses of each command. In an advanced scenario, any non-zero exit status can be trapped with the &lsquo;ERR&rsquo; signal, and an error function can be implemented. A <a href=https://gist.github.com/mohseenrm/2728294ca85d5572f1b594be1aafa274>public gist</a> demonstrates this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>set -eE -o functrace
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> err_handler <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    local err_status<span style=color:#f92672>=</span>$? 
</span></span><span style=display:flex><span>    echo <span style=color:#e6db74>&#34;The script exited abruptly with status: </span>$err_status<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>trap err_handler ERR
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Rest of the script</span>
</span></span></code></pre></div><h2 id=fair-caveat>Fair Caveat</h2><p>With great power comes great responsibility—Bash scripts can interact at a low-level with Unix system primitives, and an incorrect use can lead to system damages. Remember these critical pointers highlighted by <a href=https://filosophy.org/>Rich Cook</a>:</p><ul><li>Always defend your script from feeder mistakes</li><li>Be resilient against erroneous output from programs you call</li><li>Don&rsquo;t forget to test your code extensively</li></ul><p>To ensure you are well-prepared for the journey of advanced Bash scripting, consistently heed these facets. Happy scripting!</p><h2 id=references>References</h2><ol><li>Chet Ramey and Brian Fox, Bash Reference Manual, Free Software Foundation, 2000.</li><li>William Shotts, The Linux Command Line, No Starch Press, 2012.</li><li>Lhunath & GreyCat, Bash Guide for Beginners and Advanced Bash-Scripting Guide, tldp.org, 2008.</li></ol></article><section id=articleNext class="section nartrow"><h3 class=footer-next-heading>More articles from Mohseen</h3><div class=footer-spacer></div><div class=next-articles-grid numberofarticles={numberOfArticles}><div class=post-row><a href=/post/2023-10-02-taming-the-beast-unravelling-anti-patterns-in-typescript/ class=article-link id=article-link-bigger><div><div class=image-container><img src=/images/hero/taming-the-beast-unravelling-anti-patterns-in-typescript.preview.jpg class=article-image></div><div><h2 class=article-title>Taming the Beast: Unravelling Anti-Patterns in TypeScript</h2><p class=article-excerpt>Take a deep dive into TypeScript's often misunderstood anti-patterns, their implications, and the coding best practices to circumvent them.</p><div class=article-metadata>October 2, 2023 · 3 min read</div></div></div></a><a href=/post/2021-12-26-preparing-to-be-a-dog-parent/ class=article-link><div><div class=image-container><img src=/images/hero/preparing-to-be-a-dog-parent.jpg class=article-image></div><div><h2 class=article-title>Preparing to be a Dog Parent</h2><p class=article-excerpt>Lessons on becoming a paw parent and how to dog proof your home.</p><div class=article-metadata>December 26, 2021 · 5 min read</div></div></div></a></div></div></section></section><script src=/js/progressBar.js></script><div class=footer-gradient></div><div class="section narrow"><div class=footer-hr></div><div class=footer-container><div class=footer-text>© 2025 Mohseen</div><div class=social-icon-outer><div class=social-icon-container></div></div></div></div></div><script src=/js/prism.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-WBJ981VMT6"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WBJ981VMT6")}</script></body></html>